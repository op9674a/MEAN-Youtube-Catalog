<!DOCTYPE html>
<html lang="en" dir="ltr" ng-app="VideosApp">
    <head>
        <meta charset="utf-8">
        <title>Videos</title>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js" charset="utf-8"></script>
    <script src="/js/app.js" charset="utf-8"></script>
    <link rel="stylesheet" href="/css/app.css">

    <link href="https://fonts.googleapis.com/css?family=Convergence" rel="stylesheet">
    </head>
    <body ng-controller="MainController as ctrl">
        <!-- {{2+2}} -->
        <!--Main Container -->
        <div class="container">
            <nav class="navbar">
                <ul class="topnav-left">
                    <li><a class="navbar-logo" href="/"><img src="vidlogo.png"></a></li>
                    <li><a class="nav-link"  href="/">Home</a></li>
                    </ul>
                </nav>
                <nav class="navbar-right">
                    <ul class="topnav-right">
                    <li>
                        <input type="text" placeholder="Search . . .">
                    </li>
                </ul>
            </nav>

            </div>


        <!-- Create Video -->
        <div class=".flex-container">
            <div class="side-nav">
                    <h2>My List</h2>
                    <ul>
                        <li>
                            <a href="#">Videos</a>
                        </li>
                    </ul>
            </div>

            <div class="card">

                <form ng-submit="ctrl.createVideo()">
                    <h2>Add a new video</h2>
                    <div class="row">
                        <div class="five columns">
                            Title: <input type="text" ng-model="ctrl.createForm.title" placeholder="Video title" />
                            Category: <input type="text" ng-model="ctrl.createForm.category" placeholder="Category" />
                            Description: <input type="text" ng-model="ctrl.createForm.description" placeholder="Description"/>
                            URL: <input type="text" ng-model="ctrl.createForm.url" placeholder="http://" /><br><br>
                            Thumbnail: <input id="thumbnail" type="text" ng-model="ctrl.createForm.thumb" placeholder="https://img.youtube.com/vi/<video-id>/default.jpg"/>
                            <button type="submit">Submit</button>
                        </div>
                    </div>

                </div>
            </form>
        </div>




        <!-- Videos Index -->
        <div class="card">
            <h2>Your Videos</h2>
        </div>

        <div class="card">

        <div ng-repeat="video in ctrl.videos" class="list">
            <ul>

                <p><a href="{{video.url}}">{{video.title}}</a></p>

                <p>{{video.description}}</p>
                <p>{{video.category}}</p>
                <div class="thumbnail" ng-model="ctrl.thumb">
               <img id="thumbimg" src="{{video.thumb}}" alt="image">
               </div>

                <!-- Edit Video -->
                <div class="editForm">
                    <a href="#" ng-click="(ctrl.indexOfEditFormToShow === $index) ? ctrl.indexOfEditFormToShow = null : ctrl.indexOfEditFormToShow = $index">Edit This Video</a><br>
                  <form ng-if="$index === ctrl.indexOfEditFormToShow" ng-submit="ctrl.editVideo(video)">
                      <input type="text" ng-model="ctrl.updatedTitle" placeholder="Title"/>
                      <input type="text" ng-model="ctrl.updatedURL" placeholder="http://"/>
                      <input type="text" ng-model="ctrl.updatedDescription" placeholder="description"/>
                      <input type="text" ng-model="ctrl.updatedCategory" placeholder="category"/>
                      <input type="text" ng-model="ctrl.updatedThumb" placeholder="thumbnail image link"/>
                      <input type="submit" id="submitEdit" value="Submit Edits"/>
                  </form>
                </div>

                <button ng-click="ctrl.deleteVideo(video._id)">Delete this Video</button>

            </ul>
        </div>
        </div>

            </div>





    </body>
</html>
